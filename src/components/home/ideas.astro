---
import Image from "astro/components/Image.astro";
import Art from "../../assets/home/ideas/object.png";
import BGArt from "../../assets/home/ideas/art.png";
import Coffee from "../../assets/home/ideas/coffee.png";
import Person from "../../assets/home/ideas/person.png";
import World from "../../assets/home/ideas/world.png";
import Bulb from "../../assets/home/ideas/bulb.png";
---

<section
  class="ideas-section internal-padding relative z-10 flex flex-row bg-[#4B00A3] text-[#FFFFFF]"
  id="ideas-section"
>
  <Image
    src={BGArt}
    alt="Background Art"
    class="absolute top-0 left-0 h-full w-full object-cover opacity-10"
  />
  <div class="flex-1 md:block">
    <div class="tilt-container z-10 p-4">
      <div class="tilt-wrapper">
        <Image
          src={Art}
          alt="Main Art"
          id="floaty-art"
          class="floaty h-auto w-full cursor-pointer"
        />
      </div>
    </div>
  </div>
  <div class="flex flex-1 flex-col justify-center gap-6">
    <h2 class="text-6xl leading-[4.5rem] font-semibold">
      Where Ideas Take Flight, and Results Land Big
    </h2>
    <h3 class="text-[26px] font-medium">The Nixxon Australia Impact</h3>
    <p class="text-base">
      From local startups to global ventures, we’ve turned bold visions into
      measurable success. Every project we deliver blends innovation, trust, and
      precision — creating results that speak louder than words.
    </p>

    <!-- stats grid -->
    <div
      class="mt-8 grid grid-cols-1 justify-between gap-x-4 gap-y-8 sm:grid-cols-2"
    >
      <div
        class="ideas-stat flex w-full items-center gap-4 border-r border-r-white py-1 pr-4"
      >
        <Image
          src={Coffee}
          alt="Coffee Icon"
          height={92}
          width={92}
          class={"ml-auto"}
        />
        <div class="flex flex-col items-end">
          <h3 class="text-[44px] font-medium">4,200+</h3>
          <p class="text-[22px] font-medium">Coffees Shared</p>
          <p class="text-right text-sm font-medium capitalize">
            Fuel for our brightest <br /> ideas
          </p>
        </div>
      </div>
      <div
        class="ideas-stat flex w-full items-center gap-4 border-r border-r-white py-1 pr-4"
      >
        <Image
          src={Person}
          alt="Coffee Icon"
          height={92}
          width={92}
          class={"ml-auto"}
        />
        <div class="flex flex-col items-end">
          <h3 class="text-[44px] font-medium">2.5K</h3>
          <p class="text-[22px] font-medium">Projects Delivered</p>
          <p class="text-right text-sm font-medium capitalize">
            Big and small, each <br /> one unique
          </p>
        </div>
      </div>
      <div
        class="ideas-stat ideas-stat flex w-full items-center gap-4 border-r border-r-white py-1 pr-4"
      >
        <Image
          src={Bulb}
          alt="Coffee Icon"
          height={92}
          width={92}
          class={"ml-auto"}
        />
        <div class="flex flex-col items-end">
          <h3 class="text-[44px] font-medium">44</h3>
          <p class="text-[22px] font-medium">Creative Minds</p>
          <p class="text-right text-sm font-medium capitalize">
            Turning visions into <br /> visuals
          </p>
        </div>
      </div>
      <div
        class="ideas-stat flex w-full items-center gap-4 border-r border-r-white py-1 pr-4"
      >
        <Image
          src={World}
          alt="Coffee Icon"
          height={92}
          width={92}
          class={"ml-auto"}
        />
        <div class="flex flex-col items-end">
          <h3 class="text-[44px] font-medium">8</h3>
          <p class="text-[22px] font-medium">Countries Reached</p>
          <p class="text-right text-sm font-medium capitalize">
            Taking Aussie creativity <br /> worldwide
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .floaty {
    animation: floatUpDown 3.5s ease-in-out infinite alternate;
    will-change: transform;
    transform-origin: center center;
    transition:
      transform 320ms cubic-bezier(0.22, 1, 0.36, 1),
      filter 320ms;
    backface-visibility: hidden;
    display: block;
  }

  @keyframes floatUpDown {
    0% {
      transform: translateY(0px) scale(1);
      filter: drop-shadow(0 4px 24px rgba(77, 0, 163, 0.1));
    }
    60% {
      transform: translateY(-18px) scale(1.03);
      filter: drop-shadow(0 12px 32px rgba(77, 0, 163, 0.14));
    }
    100% {
      transform: translateY(0px) scale(1);
      filter: drop-shadow(0 4px 24px rgba(77, 0, 163, 0.1));
    }
  }

  .ideas-stat img:hover {
    transform: scale(1.12) rotate(4deg);
    transition: transform 0.25s cubic-bezier(0.4, 1.3, 0.7, 1.01);
    cursor: pointer;
  }
  .ideas-section {
    box-shadow: 0 0 64px 0 rgba(75, 0, 163, 0.18);
    /* border-radius: 2rem; */
    overflow: hidden;
  }
</style>

<script>
  import { gsap, ScrollTrigger } from "../../utils/gsapUtils.js";

  document.addEventListener("DOMContentLoaded", () => {
    // ScrollTrigger.getAll().forEach((st) => st.kill());

    gsap.set(".ideas-stat", { opacity: 0, y: 40 });
    ScrollTrigger.batch(".ideas-stat", {
      onEnter: (batch) =>
        gsap.to(batch, {
          opacity: 1,
          y: 0,
          stagger: 0.15,
          duration: 0.6,
          ease: "power2.out",
        }),
      once: true,
      start: "top 80%",
    });

    gsap.to("#floaty-art", {
      y: 40,
      scrollTrigger: {
        trigger: ".ideas-section",
        start: "top bottom",
        end: "bottom top",
        scrub: 0.5,
      },
    });
  });
</script>
